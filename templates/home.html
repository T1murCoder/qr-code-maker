{% extends "base.html" %}

{% block content %}
<div class="row">
<div class="card mx-auto col-md-8">
  <div class="card-header">
    <h4>QR Code Generator</h4>
  </div>
  <div class="card-body">
    <div class="row">
      <div class="col-md-5 border-end">
        <form method="POST">
            {{ form.hidden_tag() }}
            <div class="mb-3">
              <label for="text" class="form-label">{{form.text.label}}</label>
              {{ form.text(class="form-control", id="text") }}
            </div>
            <div class="mb-3">
              <label for="bgcolor" class="form-label">{{ form.background_color.label }}</label>
              {{ form.background_color(type="color", class="form-control form-control-color", id="bgcolor") }}
            </div>
            <div class="mb-3">
              <label for="fgcolor" class="form-label">{{ form.foreground_color.label }}</label>
              {{ form.foreground_color(type="color", class="form-control form-control-color", id="fgcolor") }}
            </div>
            <div class="mb-3">
                <label for="size" class="form-label">{{ form.size.label }}</label>
                {{ form.size(class="form-control form-range", id="size") }}
              </div>
            <div class="mb-3">
              {{ form.submit(type="submit", class="btn btn-primary") }}
            </div>
        </form>
      </div>
      <div class="col-md-7">
        <div id="qrcode" class="mx-auto d-flex justify-content-center align-items-center bg-light" style="height: 450px; width: 450px;">
          {% if img_bytes %}
            <img src="data:image/png;base64,{{ img_bytes.getvalue()|b64encode }}" style="height: 450px; width: 450px;" alt="" download="qr_code.png">
          {% else %}
            <p class="text-muted">QR code will appear here</p>
          {% endif %}
        </div>
      </div>
    </div>
  </div>
</div>
</div>
{% endblock %}